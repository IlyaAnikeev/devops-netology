Задача 1

Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

С помощью полной (аппаратной) виртуализации возможно использовать изолированные гостевые ОС (полностью эмулирует физические сервера от процессора до жёстких дисков), которые управляются напрямую гипервизором. По производительности сравнима с физическими серверами.
Паравиртуализация тоже самое, что и аппаратная виртуализация, но некоторые компоненты (дисковые устройства, сетевые и другие) могут быть использованы напрямую у хоста. Паравиртуализация работает быстрее, так как не использует ресурсы на ненужную эмуляцию.
Виртуализация на основе ОС позволяет виртуализировать физические серверы на уровне ядра ОС.

Задача 2

Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:

- высоконагруженная база данных, чувствительная к отказу;
- различные web-приложения;
- Windows-системы для использования бухгалтерским отделом;
- системы, выполняющие высокопроизводительные расчёты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

1.	Для высоконагруженной базы данных я бы использовал физический сервер, так как виртулизация снижает производительность, либо использовал паравиртуализацию, где можно использовать напрямую компоненты у хоста.
2.	Для различных web-приложений лучше всего подходит виртуализация на уровне ОС, так как ими будет проще управлять.
3.	Для Windows-системы, которая будет использоваться бухгалтерским отделом на мой взгляд больше подходит паравиртуализация, которая улучшит производительность дисковой подсистемы.
4.	Для системы, выполняющей высокопроизводительные расчёты на GPU, необходимо использовать физический сервер, чтобы избежать падения производительности, также можно использовать паравиртуализацию, где можно напрямую подключить графический процессор.

Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:
- 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
- Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
- Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
- Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

1.	Для разворачивания 100 ВМ на базе Linux и Windows подходят VMWare ESXi и Microsoft Hyper-V. Но так как на ВМ будет преимущественно установлена ОС Windows, то логичнее использовать предпочтение Microsoft Hyper-V. Раньше в Microsoft Hyper-V отсутствовала возможность установки динамической памяти и предпочтение отдавали VMWare ESXi для экономии ресурсов.
2.	KVM и Xen, но предпочтение отдал бы KVM, так как по тестам производительности Xen немного уступает KVM (“Производительность Xen сильнее отличалась от производительности «железа», чем в ситуации с KVM. В трех тестах Xen отличался на 2,5% от скорости «железа», в остальных тестах он оказался еще медленнее. В тесте PostMark Xen был медленнее на 14.41%, чем «железо». ”). Также есть комментарий преимуществ серверов VPS на базе KVM (“VPS серверы на базе KVM, выбирает именно этот гипервизор из-за преимуществ, которые он обеспечивает. К ним можно отнести тот факт, что KVM жестко делит ОЗУ и дисковое пространство. Это не позволяет ресурсам быть переданными другим пользователям (не допускается оверселлинг)”).
3.	Windows Hyper-V Server — это бесплатная серверная версия гипервизора от Microsoft, которую можно использовать для запуска виртуальных машин, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры, а также можно использовать Xen PV
4.	В данном случае подойдёт виртуализация на основе ОС. Чаще всего в качестве платформы для контейнеризации используют Docker, а управляют большим количеством контейнеров при помощи Kubernetes. Также для этих целей может подойти Virtual Box от Oracle.

Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Недостатками по большей части являются повышенные расходы на административный ресурс (нужны специалисты под каждую среду виртуализации). Для той же миграции ВМ между гипервизорами – целая эпопея. Но создание гетерогенной среды виртуализации зависит от решаемых задач. Например, есть “раздутый” ИТ-департамент в Сбере, где существуют множество подотделов, в которых каждые привыкли работать в определённой среде, и банк может себе это позволить. Но как итог – всё упирается в административный ресурс.